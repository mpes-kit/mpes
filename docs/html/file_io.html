

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>File I/O &amp; Processing (mpes.fprocessing) &mdash; mpes 1.1.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="mpes 1.1.2 documentation" href="index.html"/>
        <link rel="next" title="Analysis (mpes.analysis)" href="analysis.html"/>
        <link rel="prev" title="Base classes (mpes.base)" href="base.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> mpes
          

          
          </a>

          
            
            
              <div class="version">
                1.1.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Instructions</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="I01_start.html">How to start</a></li>
<li class="toctree-l1"><a class="reference internal" href="I02_overview.html">Overview of modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="I03_usenotes.html">Usage notes</a></li>
</ul>
<p class="caption"><span class="caption-text">API documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="base.html">Base classes  <code class="docutils literal notranslate"><span class="pre">(mpes.base)</span></code></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">File I/O &amp; Processing  <code class="docutils literal notranslate"><span class="pre">(mpes.fprocessing)</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="analysis.html">Analysis  <code class="docutils literal notranslate"><span class="pre">(mpes.analysis)</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="bandstructure.html">Band-mapping data classes  <code class="docutils literal notranslate"><span class="pre">(mpes.bandstructure)</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="visualization.html">Visualization  <code class="docutils literal notranslate"><span class="pre">(mpes.visualization)</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="mirrorutil.html">Local file copying  <code class="docutils literal notranslate"><span class="pre">(mpes.mirrorutil)</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utility functions  <code class="docutils literal notranslate"><span class="pre">(mpes.utils)</span></code></a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">mpes</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>File I/O &amp; Processing  <code class="docutils literal notranslate"><span class="pre">(mpes.fprocessing)</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/file_io.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="file-i-o-processing-mpes-fprocessing">
<h1>File I/O &amp; Processing  <code class="docutils literal notranslate"><span class="pre">(mpes.fprocessing)</span></code><a class="headerlink" href="#file-i-o-processing-mpes-fprocessing" title="Permalink to this headline">¶</a></h1>
<p>Custom methods to handle ARPES data I/O and standard data processing methods (filtering, dewarping, etc.)</p>
<span class="target" id="module-mpes.fprocessing"></span><p>&#64;author: R. Patrick Xian, L. Rettig</p>
<dl class="py function">
<dt id="mpes.fprocessing._arraysum">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">_arraysum</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">array_a</span></em>, <em class="sig-param"><span class="n">array_b</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing._arraysum" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate the sum of two arrays.</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing._hist1d_numba_seq">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">_hist1d_numba_seq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sample</span></em>, <em class="sig-param"><span class="n">bins</span></em>, <em class="sig-param"><span class="n">ranges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing._hist1d_numba_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>1D Binning function, pre-compiled by Numba for performance.
Behaves much like numpy.histogramdd, but calculates and returns unsigned 32 bit integers</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing._hist2d_numba_seq">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">_hist2d_numba_seq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sample</span></em>, <em class="sig-param"><span class="n">bins</span></em>, <em class="sig-param"><span class="n">ranges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing._hist2d_numba_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>2D Binning function, pre-compiled by Numba for performance.
Behaves much like numpy.histogramdd, but calculates and returns unsigned 32 bit integers</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing._hist3d_numba_seq">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">_hist3d_numba_seq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sample</span></em>, <em class="sig-param"><span class="n">bins</span></em>, <em class="sig-param"><span class="n">ranges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing._hist3d_numba_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>3D Binning function, pre-compiled by Numba for performance.
Behaves much like numpy.histogramdd, but calculates and returns unsigned 32 bit integers</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing._hist4d_numba_seq">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">_hist4d_numba_seq</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sample</span></em>, <em class="sig-param"><span class="n">bins</span></em>, <em class="sig-param"><span class="n">ranges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing._hist4d_numba_seq" title="Permalink to this definition">¶</a></dt>
<dd><p>4D Binning function, pre-compiled by Numba for performance.
Behaves much like numpy.histogramdd, but calculates and returns unsigned 32 bit integers</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.applyJitter">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">applyJitter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">amp</span></em>, <em class="sig-param"><span class="n">col</span></em>, <em class="sig-param"><span class="n">type</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.applyJitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Add jittering to a dataframe column.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>df: dataframe</dt><dd><p>Dataframe to add noise/jittering to.</p>
</dd>
<dt>amp: numeric</dt><dd><p>Amplitude scaling for the jittering noise.</p>
</dd>
<dt>col: str</dt><dd><p>Name of the column to add jittering to.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<blockquote>
<div><p>Uniformly distributed noise vector with specified amplitude and size.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.binDataframe">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">binDataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pbenv</span><span class="o">=</span><span class="default_value">'classic'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.binDataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate multidimensional histogram from columns of a dask dataframe.
Prof. Yves Acremann’s method.</p>
<p><strong>Paramters</strong></p>
<dl class="simple">
<dt>axes: (list of) strings | None</dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins: (list of) int | None</dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges: (list of) tuples | None</dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>binDict: dict | None</dt><dd><p>Dictionary with specifications of axes, nbins and ranges. If binDict
is not None. It will override the specifications from other arguments.</p>
</dd>
<dt>pbar: bool | True</dt><dd><p>Option to display a progress bar.</p>
</dd>
<dt>pbenv: str | ‘classic’</dt><dd><p>Progress bar environment (‘classic’ for generic version and
‘notebook’ for notebook compatible version).</p>
</dd>
<dt>jittered: bool | True</dt><dd><p>Option to add histogram jittering during binning.</p>
</dd>
<dt><a href="#id1"><span class="problematic" id="id2">**</span></a>kwds: keyword arguments</dt><dd><p>See keyword arguments in <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor.localBinning()</span></code>.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return</dt>
<dd class="field-odd"><dl class="simple">
<dt>histdict<span class="classifier">dict</span></dt><dd><p>Dictionary containing binned data and the axes values (if <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.binDataframe_fast">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">binDataframe_fast</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pbenv</span><span class="o">=</span><span class="default_value">'classic'</span></em>, <em class="sig-param"><span class="n">jpart</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.binDataframe_fast" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate multidimensional histogram from columns of a dask dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramters</dt>
<dd class="field-odd"><dl class="simple">
<dt>axes<span class="classifier">(list of) strings | None</span></dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins<span class="classifier">(list of) int | None</span></dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges<span class="classifier">(list of) tuples | None</span></dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>binDict<span class="classifier">dict | None</span></dt><dd><p>Dictionary with specifications of axes, nbins and ranges. If binDict
is not None. It will override the specifications from other arguments.</p>
</dd>
<dt>pbar<span class="classifier">bool | True</span></dt><dd><p>Option to display a progress bar.</p>
</dd>
<dt>pbenv<span class="classifier">str | ‘classic’</span></dt><dd><p>Progress bar environment (‘classic’ for generic version and ‘notebook’ for notebook compatible version).</p>
</dd>
<dt>jittered<span class="classifier">bool | True</span></dt><dd><p>Option to add histogram jittering during binning.</p>
</dd>
<dt><a href="#id3"><span class="problematic" id="id4">**</span></a>kwds<span class="classifier">keyword arguments</span></dt><dd><p>See keyword arguments in <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor.localBinning()</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><dl class="simple">
<dt>histdict<span class="classifier">dict</span></dt><dd><p>Dictionary containing binned data and the axes values (if <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.binDataframe_lean">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">binDataframe_lean</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pbenv</span><span class="o">=</span><span class="default_value">'classic'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.binDataframe_lean" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate multidimensional histogram from columns of a dask dataframe.</p>
<p><strong>Paramters</strong></p>
<dl class="simple">
<dt>axes: (list of) strings | None</dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins: (list of) int | None</dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges: (list of) tuples | None</dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>binDict: dict | None</dt><dd><p>Dictionary with specifications of axes, nbins and ranges. If binDict
is not None. It will override the specifications from other arguments.</p>
</dd>
<dt>pbar: bool | True</dt><dd><p>Option to display a progress bar.</p>
</dd>
<dt>pbenv: str | ‘classic’</dt><dd><p>Progress bar environment (‘classic’ for generic version and ‘notebook’ for notebook compatible version).</p>
</dd>
<dt>jittered: bool | True</dt><dd><p>Option to add histogram jittering during binning.</p>
</dd>
<dt><a href="#id5"><span class="problematic" id="id6">**</span></a>kwds: keyword arguments</dt><dd><p>See keyword arguments in <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor.localBinning()</span></code>.</p>
</dd>
</dl>
<p><strong>Return</strong>
histdict: dict</p>
<blockquote>
<div><p>Dictionary containing binned data and the axes values (if <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">True</span></code>).</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.binDataframe_numba">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">binDataframe_numba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">df</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">4</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pbenv</span><span class="o">=</span><span class="default_value">'classic'</span></em>, <em class="sig-param"><span class="n">jpart</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.binDataframe_numba" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate multidimensional histogram from columns of a dask dataframe.</p>
<dl class="field-list simple">
<dt class="field-odd">Paramters</dt>
<dd class="field-odd"><dl class="simple">
<dt>axes<span class="classifier">(list of) strings | None</span></dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins<span class="classifier">(list of) int | None</span></dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges<span class="classifier">(list of) tuples | None</span></dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>binDict<span class="classifier">dict | None</span></dt><dd><p>Dictionary with specifications of axes, nbins and ranges. If binDict
is not None. It will override the specifications from other arguments.</p>
</dd>
<dt>pbar<span class="classifier">bool | True</span></dt><dd><p>Option to display a progress bar.</p>
</dd>
<dt>pbenv<span class="classifier">str | ‘classic’</span></dt><dd><p>Progress bar environment (‘classic’ for generic version and ‘notebook’ for notebook compatible version).</p>
</dd>
<dt>jittered<span class="classifier">bool | True</span></dt><dd><p>Option to add histogram jittering during binning.</p>
</dd>
<dt><a href="#id7"><span class="problematic" id="id8">**</span></a>kwds<span class="classifier">keyword arguments</span></dt><dd><p>See keyword arguments in <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor.localBinning()</span></code>.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><dl class="simple">
<dt>histdict<span class="classifier">dict</span></dt><dd><p>Dictionary containing binned data and the axes values (if <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.binPartition">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">binPartition</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">partition</span></em>, <em class="sig-param"><span class="n">binaxes</span></em>, <em class="sig-param"><span class="n">nbins</span></em>, <em class="sig-param"><span class="n">binranges</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">jitter_params</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.binPartition" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin the data within a file partition (e.g. dask dataframe).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>partition: dataframe partition</dt><dd><p>Partition of a dataframe.</p>
</dd>
<dt>binaxes: list</dt><dd><p>List of axes to bin.</p>
</dd>
<dt>nbins: list</dt><dd><p>Number of bins for each binning axis.</p>
</dd>
<dt>binranges: list</dt><dd><p>The range of each axis to bin.</p>
</dd>
<dt>jittered: bool | False</dt><dd><p>Option to include jittering in binning.</p>
</dd>
<dt>jitter_params: dict | {}</dt><dd><p>Parameters used to set jittering.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>hist_partition: ndarray</dt><dd><p>Histogram from the binning process.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.binPartition_numba">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">binPartition_numba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">partition</span></em>, <em class="sig-param"><span class="n">binaxes</span></em>, <em class="sig-param"><span class="n">nbins</span></em>, <em class="sig-param"><span class="n">binranges</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">jitter_params</span><span class="o">=</span><span class="default_value">{}</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.binPartition_numba" title="Permalink to this definition">¶</a></dt>
<dd><p>Bin the data within a file partition (e.g. dask dataframe).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt>partition<span class="classifier">dataframe partition</span></dt><dd><p>Partition of a dataframe.</p>
</dd>
<dt>binaxes<span class="classifier">list</span></dt><dd><p>List of axes to bin.</p>
</dd>
<dt>nbins<span class="classifier">list</span></dt><dd><p>Number of bins for each binning axis.</p>
</dd>
<dt>binranges<span class="classifier">list</span></dt><dd><p>The range of each axis to bin.</p>
</dd>
<dt>jittered<span class="classifier">bool | False</span></dt><dd><p>Option to include jittering in binning.</p>
</dd>
<dt>jitter_params<span class="classifier">dict | {}</span></dt><dd><p>Parameters used to set jittering.</p>
</dd>
</dl>
</dd>
<dt class="field-even">Return</dt>
<dd class="field-even"><dl class="simple">
<dt>hist_partition<span class="classifier">ndarray</span></dt><dd><p>Histogram from the binning process.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt id="mpes.fprocessing.dataframeProcessor">
<em class="property">class </em><code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">dataframeProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datafolder</span></em>, <em class="sig-param"><span class="n">paramfolder</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">datafiles</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Processs the parquet file converted from single events data.</p>
<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor._addBinners">
<code class="sig-name descname">_addBinners</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor._addBinners" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the binning parameters within an instance.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.appendColumn">
<code class="sig-name descname">appendColumn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">colnames</span></em>, <em class="sig-param"><span class="n">colvals</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.appendColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Append columns to dataframe.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>colnames: list/tuple</dt><dd><p>New column names.</p>
</dd>
<dt>colvals: numpy array/list</dt><dd><p>Entries of the new columns.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.appendEAxis">
<code class="sig-name descname">appendEAxis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">E0</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.appendEAxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and append the E axis to the events dataframe.
This method can be reused.</p>
<p><strong>Parameter</strong></p>
<dl class="simple">
<dt>E0: numeric</dt><dd><p>Time-of-flight offset.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.appendKAxis">
<code class="sig-name descname">appendKAxis</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">x0</span></em>, <em class="sig-param"><span class="n">y0</span></em>, <em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">'X'</span></em>, <em class="sig-param"><span class="n">Y</span><span class="o">=</span><span class="default_value">'Y'</span></em>, <em class="sig-param"><span class="n">newX</span><span class="o">=</span><span class="default_value">'kx'</span></em>, <em class="sig-param"><span class="n">newY</span><span class="o">=</span><span class="default_value">'ky'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.appendKAxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and append the k axis coordinates (kx, ky) to the events dataframe.
This method can be reused.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.appendMarker">
<code class="sig-name descname">appendMarker</code><span class="sig-paren">(</span><em class="sig-param">source_name='ADC'</em>, <em class="sig-param">mapping=&lt;function multithresh&gt;</em>, <em class="sig-param">marker_name='Marker'</em>, <em class="sig-param">lower_bounds=[]</em>, <em class="sig-param">upper_bounds=[]</em>, <em class="sig-param">thresholds=[]</em>, <em class="sig-param">update='append'</em>, <em class="sig-param">**kwds</em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.appendMarker" title="Permalink to this definition">¶</a></dt>
<dd><p>Append markers to specific ranges in a source column. The mapping of the marker is usually
a piecewise defined function. This enables binning in nonequivalent steps as the next step.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.appendRow">
<code class="sig-name descname">appendRow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">df</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ftype</span><span class="o">=</span><span class="default_value">'parquet'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.appendRow" title="Permalink to this definition">¶</a></dt>
<dd><p>Append rows read from other files to existing dataframe.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>folder: str | None</dt><dd><p>Folder directory for the files to append to the existing dataframe
(i.e. when appending parquet files).</p>
</dd>
<dt>df: dataframe | None</dt><dd><p>Dataframe to append to the exisitng dataframe.</p>
</dd>
<dt>ftype: str | ‘parquet’</dt><dd><p>File type (‘parquet’, ‘dataframe’)</p>
</dd>
<dt><a href="#id9"><span class="problematic" id="id10">**</span></a>kwds: keyword arguments</dt><dd><p>Additional arguments to submit to <code class="docutils literal notranslate"><span class="pre">dask.dataframe.append()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.applyECorrection">
<code class="sig-name descname">applyECorrection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">type</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.applyECorrection" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply correction to the time-of-flight (TOF) axis of single-event data.</p>
<p><strong>Parameters</strong></p>
<dl>
<dt>type: str</dt><dd><p>Type of correction to apply to the TOF axis.</p>
</dd>
<dt><a href="#id11"><span class="problematic" id="id12">**</span></a>kwds: keyword arguments</dt><dd><p>Additional parameters to use for the correction.
:corraxis: str | ‘t’</p>
<blockquote>
<div><p>String name of the axis to correct.</p>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">center</dt>
<dd class="field-odd"><p>list/tuple | (650, 650)
Image center pixel positions in (row, column) format.</p>
</dd>
<dt class="field-even">amplitude</dt>
<dd class="field-even"><p>numeric | -1
Amplitude of the time-of-flight correction term
(negative sign meaning subtracting the curved wavefront).</p>
</dd>
<dt class="field-odd">d</dt>
<dd class="field-odd"><p>numeric | 0.9
Field-free drift distance.</p>
</dd>
<dt class="field-even">t0</dt>
<dd class="field-even"><p>numeric | 0.06
Time zero position corresponding to the tip of the valence band.</p>
</dd>
<dt class="field-odd">gam</dt>
<dd class="field-odd"><p>numeric
Linewidth value for correction using a 2D Lorentz profile.</p>
</dd>
<dt class="field-even">sig</dt>
<dd class="field-even"><p>numeric
Standard deviation for correction using a 2D Gaussian profile.</p>
</dd>
<dt class="field-odd">gam2</dt>
<dd class="field-odd"><p>numeric
Linewidth value for correction using an asymmetric 2D Lorentz profile, X-direction.</p>
</dd>
<dt class="field-even">amplitude2</dt>
<dd class="field-even"><p>numeric
Amplitude value for correction using an asymmetric 2D Lorentz profile, X-direction.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.applyFilter">
<code class="sig-name descname">applyFilter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">colname</span></em>, <em class="sig-param"><span class="n">lb</span><span class="o">=</span><span class="default_value">- inf</span></em>, <em class="sig-param"><span class="n">ub</span><span class="o">=</span><span class="default_value">inf</span></em>, <em class="sig-param"><span class="n">update</span><span class="o">=</span><span class="default_value">'replace'</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.applyFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Application of bound filters to a specified column (can be used consecutively).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>colname: str</dt><dd><p>Name of the column to filter.</p>
</dd>
<dt>lb, ub: numeric, numeric | -infinity, infinity</dt><dd><p>The lower and upper bounds used in the filtering.</p>
</dd>
<dt>update: str | ‘replace’</dt><dd><p>Update option for the filtered dataframe.</p>
</dd>
<dt>ret: bool | False</dt><dd><p>Return option for the filtered dataframe.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.applyKCorrection">
<code class="sig-name descname">applyKCorrection</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">X</span><span class="o">=</span><span class="default_value">'X'</span></em>, <em class="sig-param"><span class="n">Y</span><span class="o">=</span><span class="default_value">'Y'</span></em>, <em class="sig-param"><span class="n">newX</span><span class="o">=</span><span class="default_value">'Xm'</span></em>, <em class="sig-param"><span class="n">newY</span><span class="o">=</span><span class="default_value">'Ym'</span></em>, <em class="sig-param"><span class="n">type</span><span class="o">=</span><span class="default_value">'mattrans'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.applyKCorrection" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and replace the X and Y values with their distortion-corrected version.
This method can be reused.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>X, Y: str, str | ‘X’, ‘Y’</dt><dd><p>Labels of the columns before momentum distortion correction.</p>
</dd>
<dt>newX, newY: str, str | ‘Xm’, ‘Ym’</dt><dd><p>Labels of the columns after momentum distortion correction.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.columnApply">
<code class="sig-name descname">columnApply</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mapping</span></em>, <em class="sig-param"><span class="n">rescolname</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.columnApply" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a user-defined function (e.g. partial function) to an existing column.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>mapping: function</dt><dd><p>Function to apply to the column.</p>
</dd>
<dt>rescolname: str</dt><dd><p>Name of the resulting column.</p>
</dd>
<dt><a href="#id13"><span class="problematic" id="id14">**</span></a>kwds: keyword arguments</dt><dd><p>Keyword arguments of the user-input mapping function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.convert">
<code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'parquet'</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">namestr</span><span class="o">=</span><span class="default_value">'/data'</span></em>, <em class="sig-param"><span class="n">pq_append</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Update or convert to other file formats.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>form: str | ‘parquet’</dt><dd><p>File format to convert into.</p>
</dd>
<dt>save_addr: str | None</dt><dd><p>Path of the folder to save the converted files to.</p>
</dd>
<dt>namestr: ‘/data’</dt><dd><p>Extra namestring attached to the filename.</p>
</dd>
<dt>pq_append: bool | False</dt><dd><p>Option to append to the existing parquet file (if <code class="docutils literal notranslate"><span class="pre">True</span></code>) in the specified folder,
otherwise the existing parquet files will be deleted before writing new files in.</p>
</dd>
<dt><a href="#id15"><span class="problematic" id="id16">**</span></a>kwds: keyword arguments</dt><dd><p>See extra keyword arguments in <code class="docutils literal notranslate"><span class="pre">dask.dataframe.to_parquet()</span></code> for parquet conversion,
or in <code class="docutils literal notranslate"><span class="pre">dask.dataframe.to_hdf()</span></code> for HDF5 conversion.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.deleteColumn">
<code class="sig-name descname">deleteColumn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">colnames</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.deleteColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete columns.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>colnames: str/list/tuple</dt><dd><p>List of column names to be dropped.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.distributedBinning">
<code class="sig-name descname">distributedBinning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span></em>, <em class="sig-param"><span class="n">nbins</span></em>, <em class="sig-param"><span class="n">ranges</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">binmethod</span><span class="o">=</span><span class="default_value">'numba'</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.distributedBinning" title="Permalink to this definition">¶</a></dt>
<dd><p>Binning the dataframe to a multidimensional histogram.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>axes, nbins, ranges, binDict, pbar:</dt><dd><p>See <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.binDataframe()</span></code>.</p>
</dd>
<dt>binmethod: str | ‘numba’</dt><dd><p>Dataframe binning method (‘original’, ‘lean’, ‘fast’ and ‘numba’).</p>
</dd>
<dt>ret: bool | False</dt><dd><p>Option to return binning results as a dictionary.</p>
</dd>
<dt><a href="#id17"><span class="problematic" id="id18">**</span></a>kwds: keyword arguments</dt><dd><p>See <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.binDataframe()</span></code> or <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.binDataframe_lean()</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.getCountRate">
<code class="sig-name descname">getCountRate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fids</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.getCountRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create count rate data for the files in the data frame processor specified in <code class="docutils literal notranslate"><span class="pre">fids</span></code>.</p>
<p><strong>Parameters</strong>
fids: the file ids to include. ‘all’ | list of file ids.</p>
<blockquote>
<div><p>See arguments in <code class="docutils literal notranslate"><span class="pre">parallelHDF5Processor.subset()</span></code> and <code class="docutils literal notranslate"><span class="pre">hdf5Processor.getCountRate()</span></code>.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.getElapsedTime">
<code class="sig-name descname">getElapsedTime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fids</span><span class="o">=</span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.getElapsedTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the elapsed time in the file from the msMarkers wave.</p>
<p><strong>Return</strong></p>
<blockquote>
<div><p>The length of the the file in seconds.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.mapColumn">
<code class="sig-name descname">mapColumn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mapping</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">args</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.mapColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a dataframe-partition based mapping function to an existing column.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>oldcolname: str</dt><dd><p>The name of the column to use for computation.</p>
</dd>
<dt>mapping: function</dt><dd><p>Functional map to apply to the values of the old column. Takes the data frame as first argument. Further arguments are passed by <a href="#id19"><span class="problematic" id="id20">**</span></a>kwds</p>
</dd>
<dt>newcolname: str | ‘Transformed’</dt><dd><p>New column name to be added to the dataframe.</p>
</dd>
<dt>args: tuple | ()</dt><dd><p>Additional arguments of the functional map.</p>
</dd>
<dt>update: str | ‘append’</dt><dd><p>Updating option.
‘append’ = append to the current dask dataframe as a new column with the new column name.
‘replace’ = replace the values of the old column.</p>
</dd>
<dt><a href="#id21"><span class="problematic" id="id22">**</span></a>kwds: keyword arguments</dt><dd><p>Additional arguments for the <code class="docutils literal notranslate"><span class="pre">dask.dataframe.apply()</span></code> function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.ncol">
<em class="property">property </em><code class="sig-name descname">ncol</code><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.ncol" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of columns in the distrbuted dataframe.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.nrow">
<em class="property">property </em><code class="sig-name descname">nrow</code><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.nrow" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of rows in the distributed dataframe.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.read">
<code class="sig-name descname">read</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">'folder'</span></em>, <em class="sig-param"><span class="n">ftype</span><span class="o">=</span><span class="default_value">'parquet'</span></em>, <em class="sig-param"><span class="n">fids</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">update</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">timeStamps</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.read" title="Permalink to this definition">¶</a></dt>
<dd><p>Read into distributed dataframe.</p>
<p><a href="#id23"><span class="problematic" id="id24">**</span></a>Parameters*8</p>
<dl class="simple">
<dt>source: str | ‘folder’</dt><dd><p>Source of the file readout.
:’folder’: Read from the provided data folder.
:’files’: Read from the provided list of file addresses.</p>
</dd>
<dt>ftype: str | ‘parquet’</dt><dd><p>Type of file to read into dataframe (‘h5’ or ‘hdf5’, ‘parquet’, ‘json’, ‘csv’).</p>
</dd>
<dt>fids: list | []</dt><dd><p>IDs of the files to be selected (see <code class="docutils literal notranslate"><span class="pre">mpes.base.FileCollection.select()</span></code>).
Specify ‘all’ to read all files of the given file type.</p>
</dd>
<dt>update: str | ‘’</dt><dd><p>File selection update option (see <code class="docutils literal notranslate"><span class="pre">mpes.base.FileCollection.select()</span></code>).</p>
</dd>
<dt><a href="#id25"><span class="problematic" id="id26">**</span></a>kwds: keyword arguments</dt><dd><p>See keyword arguments in <code class="docutils literal notranslate"><span class="pre">mpes.readDataframe()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.saveHistogram">
<code class="sig-name descname">saveHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span></em>, <em class="sig-param"><span class="n">save_addr</span></em>, <em class="sig-param"><span class="n">dictname</span><span class="o">=</span><span class="default_value">'histdict'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.saveHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Export binned histogram in other formats.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><p>See <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.saveDict()</span></code>.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.toBandStructure">
<code class="sig-name descname">toBandStructure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.toBandStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to the xarray data structure from existing binned data.</p>
<p><strong>Return</strong></p>
<blockquote>
<div><p>An instance of <code class="docutils literal notranslate"><span class="pre">BandStructure()</span></code> or <code class="docutils literal notranslate"><span class="pre">MPESDataset()</span></code> from the <code class="docutils literal notranslate"><span class="pre">mpes.bandstructure</span></code> module.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.transformColumn">
<code class="sig-name descname">transformColumn</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">oldcolname</span></em>, <em class="sig-param"><span class="n">mapping</span></em>, <em class="sig-param"><span class="n">newcolname</span><span class="o">=</span><span class="default_value">'Transformed'</span></em>, <em class="sig-param"><span class="n">args</span><span class="o">=</span><span class="default_value">()</span></em>, <em class="sig-param"><span class="n">update</span><span class="o">=</span><span class="default_value">'append'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.transformColumn" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a simple function to an existing column.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>oldcolname: str</dt><dd><p>The name of the column to use for computation.</p>
</dd>
<dt>mapping: function</dt><dd><p>Functional map to apply to the values of the old column.</p>
</dd>
<dt>newcolname: str | ‘Transformed’</dt><dd><p>New column name to be added to the dataframe.</p>
</dd>
<dt>args: tuple | ()</dt><dd><p>Additional arguments of the functional map.</p>
</dd>
<dt>update: str | ‘append’</dt><dd><p>Updating option.
‘append’ = append to the current dask dataframe as a new column with the new column name.
‘replace’ = replace the values of the old column.</p>
</dd>
<dt><a href="#id27"><span class="problematic" id="id28">**</span></a>kwds: keyword arguments</dt><dd><p>Additional arguments for the <code class="docutils literal notranslate"><span class="pre">dask.dataframe.apply()</span></code> function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.transformColumn2D">
<code class="sig-name descname">transformColumn2D</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">map2D</span></em>, <em class="sig-param"><span class="n">X</span></em>, <em class="sig-param"><span class="n">Y</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.transformColumn2D" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a mapping simultaneously to two dimensions.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>map2D: function</dt><dd><p>2D mapping function.</p>
</dd>
<dt>X, Y: series, series</dt><dd><p>The two columns of the dataframe to apply mapping to.</p>
</dd>
<dt><a href="#id29"><span class="problematic" id="id30">**</span></a>kwds: keyword arguments</dt><dd><p>Additional arguments for the 2D mapping function.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.dataframeProcessor.viewEventHistogram">
<code class="sig-name descname">viewEventHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dfpid</span></em>, <em class="sig-param"><span class="n">ncol</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">['X', 'Y', 't', 'ADC']</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">[80, 80, 80, 80]</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">[0, 1800, 0, 1800, 68000, 74000, 0, 500]</span></em>, <em class="sig-param"><span class="n">backend</span><span class="o">=</span><span class="default_value">'bokeh'</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">histkwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">legkwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.dataframeProcessor.viewEventHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot individual histograms of specified dimensions (axes) from a substituent dataframe partition.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>dfpid: int</dt><dd><p>Number of the data frame partition to look at.</p>
</dd>
<dt>ncol: int</dt><dd><p>Number of columns in the plot grid.</p>
</dd>
<dt>axes: list/tuple</dt><dd><p>Name of the axes to view.</p>
</dd>
<dt>bins: list/tuple</dt><dd><p>Bin values of all speicified axes.</p>
</dd>
<dt>ranges: list</dt><dd><p>Value ranges of all specified axes.</p>
</dd>
<dt>backend: str | ‘matplotlib’</dt><dd><p>Backend of the plotting library (‘matplotlib’ or ‘bokeh’).</p>
</dd>
<dt>legend: bool | True</dt><dd><p>Option to include a legend in the histogram plots.</p>
</dd>
<dt>histkwds, legkwds, <a href="#id31"><span class="problematic" id="id32">**</span></a>kwds: dict, dict, keyword arguments</dt><dd><p>Extra keyword arguments passed to <code class="docutils literal notranslate"><span class="pre">mpes.visualization.grid_histogram()</span></code>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.extractEDC">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">extractEDC</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">['t']</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">[1000]</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">[65000, 100000]</span></em>, <em class="sig-param"><span class="n">binning_kwds</span><span class="o">=</span><span class="default_value">{'jittered': True}</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.extractEDC" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract EDCs from a list of bias scan files.</p>
</dd></dl>

<dl class="py class">
<dt id="mpes.fprocessing.hdf5Processor">
<em class="property">class </em><code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">hdf5Processor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f_addr</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for generating multidimensional histogram from hdf5 files.</p>
<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor._addBinners">
<code class="sig-name descname">_addBinners</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">irregular_bins</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor._addBinners" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct the binning parameters within an instance.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.getCountRate">
<code class="sig-name descname">getCountRate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.getCountRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create count rate trace from the msMarker field in the hdf5 file.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>plot: bool | False</dt><dd><p>No function yet.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>countRate: numeric</dt><dd><p>The count rate in Hz.</p>
</dd>
<dt>secs: numeric</dt><dd><p>The seconds into the scan.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.getElapsedTime">
<code class="sig-name descname">getElapsedTime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.getElapsedTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the elapsed time in the file from the msMarkers wave.</p>
<p><strong>Return</strong></p>
<blockquote>
<div><p>The length of the the file in seconds.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.loadMapping">
<code class="sig-name descname">loadMapping</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">energy</span></em>, <em class="sig-param"><span class="n">momentum</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.loadMapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the mapping parameters</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.localBinning">
<code class="sig-name descname">localBinning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">histcoord</span><span class="o">=</span><span class="default_value">'midpoint'</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">'dict'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.localBinning" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the photoelectron intensity histogram locally after loading all data into RAM.</p>
<p><strong>Paramters</strong></p>
<dl>
<dt>axes: (list of) strings | None</dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins: (list of) int | None</dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges: (list of) tuples | None</dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>binDict: dict | None</dt><dd><p>Dictionary with specifications of axes, nbins and ranges. If binDict
is not None. It will override the specifications from other arguments.</p>
</dd>
<dt>jittered: bool | False</dt><dd><p>Determines whether to add jitter to the data to avoid rebinning artefact.</p>
</dd>
<dt>histcoord: string | ‘midpoint’</dt><dd><p>The coordinates of the histogram. Specify ‘edge’ to get the bar edges (every
dimension has one value more), specify ‘midpoint’ to get the midpoint of the
bars (same length as the histogram dimensions).</p>
</dd>
<dt>ret: bool | True</dt><dd><dl class="field-list simple">
<dt class="field-odd">True</dt>
<dd class="field-odd"><p>returns the dictionary containing binned data explicitly</p>
</dd>
<dt class="field-even">False</dt>
<dd class="field-even"><p>no explicit return of the binned data, the dictionary</p>
</dd>
</dl>
<p>generated in the binning is still retained as an instance attribute.</p>
</dd>
<dt><a href="#id33"><span class="problematic" id="id34">**</span></a>kwds: keyword argument</dt><dd></dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>histdict: dict</dt><dd><p>Dictionary containing binned data and the axes values (if <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.localBinning_numba">
<code class="sig-name descname">localBinning_numba</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">nbins</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">binDict</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">jittered</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">histcoord</span><span class="o">=</span><span class="default_value">'midpoint'</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">'dict'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.localBinning_numba" title="Permalink to this definition">¶</a></dt>
<dd><p>Compute the photoelectron intensity histogram locally after loading all data into RAM.</p>
<dl class="field-list">
<dt class="field-odd">Paramters</dt>
<dd class="field-odd"><dl>
<dt>axes<span class="classifier">(list of) strings | None</span></dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins<span class="classifier">(list of) int | None</span></dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges<span class="classifier">(list of) tuples | None</span></dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>binDict<span class="classifier">dict | None</span></dt><dd><p>Dictionary with specifications of axes, nbins and ranges. If binDict
is not None. It will override the specifications from other arguments.</p>
</dd>
<dt>jittered<span class="classifier">bool | False</span></dt><dd><p>Determines whether to add jitter to the data to avoid rebinning artefact.</p>
</dd>
<dt>histcoord<span class="classifier">string | ‘midpoint’</span></dt><dd><p>The coordinates of the histogram. Specify ‘edge’ to get the bar edges (every
dimension has one value more), specify ‘midpoint’ to get the midpoint of the
bars (same length as the histogram dimensions).</p>
</dd>
<dt>ret<span class="classifier">bool | True</span></dt><dd><dl class="field-list simple">
<dt class="field-odd">True</dt>
<dd class="field-odd"><p>returns the dictionary containing binned data explicitly</p>
</dd>
<dt class="field-even">False</dt>
<dd class="field-even"><p>no explicit return of the binned data, the dictionary</p>
</dd>
</dl>
<p>generated in the binning is still retained as an instance attribute.</p>
</dd>
<dt><a href="#id35"><span class="problematic" id="id36">**</span></a>kwds<span class="classifier">keyword argument</span></dt><dd><table class="docutils align-default">
<colgroup>
<col style="width: 19%" />
<col style="width: 17%" />
<col style="width: 13%" />
<col style="width: 51%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>keyword</p></th>
<th class="head"><p>data type</p></th>
<th class="head"><p>default</p></th>
<th class="head"><p>meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>amin</p></td>
<td><p>numeric/None</p></td>
<td><p>None</p></td>
<td><p>minimum value of electron sequence</p></td>
</tr>
<tr class="row-odd"><td><p>amax</p></td>
<td><p>numeric/None</p></td>
<td><p>None</p></td>
<td><p>maximum value of electron sequence</p></td>
</tr>
<tr class="row-even"><td><p>jitter_axes</p></td>
<td><p>list</p></td>
<td><p>axes</p></td>
<td><p>list of axes to jitter</p></td>
</tr>
<tr class="row-odd"><td><p>jitter_bins</p></td>
<td><p>list</p></td>
<td><p>nbins</p></td>
<td><p>list of the number of bins</p></td>
</tr>
<tr class="row-even"><td><p>jitter_amplitude</p></td>
<td><p>numeric/array</p></td>
<td><p>0.5</p></td>
<td><p>jitter amplitude (single number for all)</p></td>
</tr>
<tr class="row-odd"><td><p>jitter_ranges</p></td>
<td><p>list</p></td>
<td><p>ranges</p></td>
<td><p>list of the binning ranges</p></td>
</tr>
</tbody>
</table>
</dd>
</dl>
</dd>
<dt class="field-odd">Return</dt>
<dd class="field-odd"><dl class="simple">
<dt>histdict<span class="classifier">dict</span></dt><dd><p>Dictionary containing binned data and the axes values (if <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">=</span> <span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.saveHistogram">
<code class="sig-name descname">saveHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictname</span><span class="o">=</span><span class="default_value">'histdict'</span></em>, <em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'h5'</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./histogram'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.saveHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Save binned histogram and the axes. See <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.saveDict()</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.saveParameters">
<code class="sig-name descname">saveParameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'h5'</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./binning'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.saveParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all the attributes of the binning instance for later use
(e.g. binning axes, ranges, etc).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>form: str | ‘h5’</dt><dd><p>File format to for saving the parameters (‘h5’/’hdf5’, ‘mat’).</p>
</dd>
<dt>save_addr: str | ‘./binning’</dt><dd><p>The address for the to be saved file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.toBandStructure">
<code class="sig-name descname">toBandStructure</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.toBandStructure" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to an instance of BandStructure.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.toSplitter">
<code class="sig-name descname">toSplitter</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.toSplitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert to an instance of hdf5Splitter.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.updateHistogram">
<code class="sig-name descname">updateHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sliceranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.updateHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the dimensional sizes of the binning results.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Processor.viewEventHistogram">
<code class="sig-name descname">viewEventHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ncol</span></em>, <em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">['X', 'Y', 't', 'ADC']</span></em>, <em class="sig-param"><span class="n">bins</span><span class="o">=</span><span class="default_value">[80, 80, 80, 80]</span></em>, <em class="sig-param"><span class="n">ranges</span><span class="o">=</span><span class="default_value">[0, 1800, 0, 1800, 68000, 74000, 0, 500]</span></em>, <em class="sig-param"><span class="n">axes_name_type</span><span class="o">=</span><span class="default_value">'alias'</span></em>, <em class="sig-param"><span class="n">backend</span><span class="o">=</span><span class="default_value">'bokeh'</span></em>, <em class="sig-param"><span class="n">legend</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">histkwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">legkwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Processor.viewEventHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot individual histograms of specified dimensions (axes).</p>
<p><strong>Parameters</strong></p>
<dl>
<dt>ncol: int</dt><dd><p>Number of columns in the plot grid.</p>
</dd>
<dt>axes: list/tuple</dt><dd><p>Name of the axes to view.</p>
</dd>
<dt>bins: list/tuple</dt><dd><p>Bin values of all speicified axes.</p>
</dd>
<dt>ranges: list</dt><dd><p>Value ranges of all specified axes.</p>
</dd>
<dt>axes_name_type: str | ‘alias’</dt><dd><dl class="field-list simple">
<dt class="field-odd">‘alias’</dt>
<dd class="field-odd"><p>human-comprehensible aliases of the datasets from the hdf5 file (e.g. ‘X’, ‘ADC’, etc)</p>
</dd>
<dt class="field-even">‘original’</dt>
<dd class="field-even"><p>original names of the datasets from the hdf5 file (e.g. ‘Stream0’, etc).</p>
</dd>
</dl>
<p>Type of specified axes names.</p>
</dd>
<dt>backend: str | ‘matplotlib’</dt><dd><p>Backend of the plotting library (‘matplotlib’ or ‘bokeh’).</p>
</dd>
<dt>legend: bool | True</dt><dd><p>Option to include a legend in the histogram plots.</p>
</dd>
<dt>histkwds, legkwds, <a href="#id37"><span class="problematic" id="id38">**</span></a>kwds: dict, dict, keyword arguments</dt><dd><p>Extra keyword arguments passed to <code class="docutils literal notranslate"><span class="pre">mpes.visualization.grid_histogram()</span></code>.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mpes.fprocessing.hdf5Reader">
<em class="property">class </em><code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">hdf5Reader</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f_addr</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader" title="Permalink to this definition">¶</a></dt>
<dd><p>HDF5 reader class.</p>
<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader._assembleGroups">
<code class="sig-name descname">_assembleGroups</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">gnames</span></em>, <em class="sig-param"><span class="n">amin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">amax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_alias</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">dtyp</span><span class="o">=</span><span class="default_value">'float32'</span></em>, <em class="sig-param"><span class="n">timeStamps</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">'array'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader._assembleGroups" title="Permalink to this definition">¶</a></dt>
<dd><p>Assemble the content values of the selected groups.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>gnames: list</dt><dd><p>List of group names.</p>
</dd>
<dt>amin, amax: numeric, numeric | None, None</dt><dd><p>Index selection range for all groups.</p>
</dd>
<dt>use_alias: bool | True</dt><dd><p>See <code class="docutils literal notranslate"><span class="pre">hdf5Reader.getGroupNames()</span></code>.</p>
</dd>
<dt>dtype: str | ‘float32’</dt><dd><p>Data type string.</p>
</dd>
<dt>ret: str | ‘array’</dt><dd><p>Return type specification (‘array’ or ‘dict’).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader.convert">
<code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./summary'</span></em>, <em class="sig-param"><span class="n">pq_append</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Format conversion from hdf5 to mat (for Matlab/Python) or ibw (for Igor).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>form: str</dt><dd><p>The format of the data to convert into.</p>
</dd>
<dt>save_addr: str | ‘./summary’</dt><dd><p>File address to save to.</p>
</dd>
<dt>pq_append: bool | False</dt><dd><p>Option to append to parquet files.
:True: Append to existing parquet files.
:False: The existing parquet files will be deleted before new file creation.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader.getAttributeNames">
<code class="sig-name descname">getAttributeNames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wexpr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">woexpr</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader.getAttributeNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve attribute names from the loaded hdf5 file with string filtering.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>wexpr: str | None</dt><dd><p>Expression in a name to leave in the attribute name list (w = with).</p>
</dd>
<dt>woexpr: str | None</dt><dd><p>Expression in a name to leave out of the attribute name list (wo = without).</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>filteredAttrbuteNames: list</dt><dd><p>List of filtered attribute names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader.getGroupNames">
<code class="sig-name descname">getGroupNames</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">wexpr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">woexpr</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">use_alias</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader.getGroupNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve group names from the loaded hdf5 file with string filtering.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>wexpr: str | None</dt><dd><p>Expression in a name to leave in the group name list (w = with).</p>
</dd>
<dt>woexpr: str | None</dt><dd><p>Expression in a name to leave out of the group name list (wo = without).</p>
</dd>
<dt>use_alias: bool | False</dt><dd><p>Specification on the use of alias to replace the variable name.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>filteredGroupNames: list</dt><dd><p>List of filtered group names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader.name2alias">
<code class="sig-name descname">name2alias</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">names_to_convert</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader.name2alias" title="Permalink to this definition">¶</a></dt>
<dd><p>Find corresponding aliases of the named groups.</p>
<p><strong>Parameter</strong></p>
<dl class="simple">
<dt>names_to_convert: list/tuple</dt><dd><p>Names to convert to aliases.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>aliases: list/tuple</dt><dd><p>Aliases corresponding to the names.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader.readAttribute">
<em class="property">static </em><code class="sig-name descname">readAttribute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">element</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">attribute</span></em>, <em class="sig-param"><span class="n">nullval</span><span class="o">=</span><span class="default_value">'None'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader.readAttribute" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the content of the attribute(s) in the loaded hdf5 file.</p>
<p><strong>Parameter</strong></p>
<dl class="simple">
<dt>attribute: list/tuple</dt><dd><p>Collection of attribute names.</p>
</dd>
<dt>nullval: str | ‘None’</dt><dd><p>Null value to retrieve as a replacement of NoneType.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>attributeContent: list/tuple</dt><dd><p>Collection of values of the corresponding attributes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader.readGroup">
<em class="property">static </em><code class="sig-name descname">readGroup</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">element</span></em>, <em class="sig-param"><span class="o">*</span><span class="n">group</span></em>, <em class="sig-param"><span class="n">amin</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">amax</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sliced</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader.readGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the content of the group(s) in the loaded hdf5 file.</p>
<p><strong>Parameter</strong></p>
<dl class="simple">
<dt>group: list/tuple</dt><dd><p>Collection of group names.</p>
</dd>
<dt>amin, amax: numeric, numeric | None, None</dt><dd><p>Minimum and maximum indice to select from the group (dataset).</p>
</dd>
<dt>sliced: bool | True</dt><dd><p>Perform slicing on the group (dataset), if <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>groupContent: list/tuple</dt><dd><p>Collection of values of the corresponding groups.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Reader.summarize">
<code class="sig-name descname">summarize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'text'</span></em>, <em class="sig-param"><span class="n">use_alias</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">timeStamps</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Reader.summarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize the content of the hdf5 file (names of the groups,
attributes and the selected contents. Output in various user-specified formats.)</p>
<p><strong>Parameters</strong></p>
<dl>
<dt>form: str | ‘text’</dt><dd><dl class="field-list simple">
<dt class="field-odd">‘dataframe’</dt>
<dd class="field-odd"><p>HDF5 content summarized into a dask dataframe.</p>
</dd>
<dt class="field-even">‘dict’</dt>
<dd class="field-even"><p>HDF5 content (both data and metadata) summarized into a dictionary.</p>
</dd>
<dt class="field-odd">‘metadict’</dt>
<dd class="field-odd"><p>HDF5 metadata summarized into a dictionary.</p>
</dd>
<dt class="field-even">‘text’</dt>
<dd class="field-even"><p>descriptive text summarizing the HDF5 content.</p>
</dd>
</dl>
<p>Format to summarize the content of the file into.</p>
</dd>
<dt>use_alias: bool | True</dt><dd><p>Specify whether to use the alias to rename the groups.</p>
</dd>
<dt>ret: bool | False</dt><dd><p>Specify whether function return is sought.</p>
</dd>
</dl>
<p><a href="#id39"><span class="problematic" id="id40">**</span></a>kwds: keyword arguments</p>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>hdfdict: dict</dt><dd><p>Dictionary including both the attributes and the groups,
using their names as the keys.</p>
</dd>
<dt>edf: dataframe</dt><dd><p>Dataframe (edf = electron dataframe) constructed using only the group values,
and the column names are the corresponding group names (or aliases).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mpes.fprocessing.hdf5Splitter">
<em class="property">class </em><code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">hdf5Splitter</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f_addr</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Splitter" title="Permalink to this definition">¶</a></dt>
<dd><p>Class to split large hdf5 files.</p>
<dl class="py method">
<dt id="mpes.fprocessing.hdf5Splitter.split">
<code class="sig-name descname">split</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">nsplit</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./'</span></em>, <em class="sig-param"><span class="n">namestr</span><span class="o">=</span><span class="default_value">'split_'</span></em>, <em class="sig-param"><span class="n">split_group</span><span class="o">=</span><span class="default_value">'Stream_0'</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Splitter.split" title="Permalink to this definition">¶</a></dt>
<dd><p>Split and save an hdf5 file.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>nsplit: int</dt><dd><p>Number of split files.</p>
</dd>
<dt>save_addr: str | ‘./’</dt><dd><p>Directory to store the split files.</p>
</dd>
<dt>namestr: str | ‘<a href="#id51"><span class="problematic" id="id52">split_</span></a>’</dt><dd><p>Additional namestring attached to the front of the filename.</p>
</dd>
<dt>split_group: str | ‘Stream_0’</dt><dd><p>Name of the example group to split for file length reference.</p>
</dd>
<dt>pbar: bool | False</dt><dd><p>Enable (when True)/Disable (when False) the progress bar.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Splitter.subset">
<code class="sig-name descname">subset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Splitter.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn an instance of hdf5Processor from a specified split file.</p>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.hdf5Splitter.toProcessor">
<code class="sig-name descname">toProcessor</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.hdf5Splitter.toProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Change to an hdf5Processor instance.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.im2mat">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">im2mat</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdir</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.im2mat" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert image to numpy ndarray.</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.mat2im">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">mat2im</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datamat</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">'uint8'</span></em>, <em class="sig-param"><span class="n">scaling</span><span class="o">=</span><span class="default_value">['normal']</span></em>, <em class="sig-param"><span class="n">savename</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.mat2im" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert data matrix to image.</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.metaReadHDF5">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">metaReadHDF5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">hfile</span></em>, <em class="sig-param"><span class="n">attributes</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">groups</span><span class="o">=</span><span class="default_value">[]</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.metaReadHDF5" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the attribute (i.e. metadata) tree in the input HDF5 file and construct a dictionary of attributes.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>hfile: HDF5 file instance</dt><dd><p>Instance of the <code class="docutils literal notranslate"><span class="pre">h5py.File</span></code> class.</p>
</dd>
<dt>attributes, groups: list, list | [], []</dt><dd><p>List of strings representing the names of the specified attribute/group names.
When specified as None, the components (all attributes or all groups) are ignored.
When specified as [], all components (attributes/groups) are included.
When specified as a list of strings, only the attribute/group names matching the strings are retrieved.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.numba_histogramdd">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">numba_histogramdd</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">sample</span></em>, <em class="sig-param"><span class="n">bins</span></em>, <em class="sig-param"><span class="n">ranges</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.numba_histogramdd" title="Permalink to this definition">¶</a></dt>
<dd><p>Wrapper for the Number pre-compiled binning functions. Behaves in total much like numpy.histogramdd.
Returns uint32 arrays. This was chosen because it has a significant performance improvement over uint64
for large binning volumes. Be aware that this can cause overflows for very large sample sets exceeding 3E9 counts
in a single bin. This should never happen in a realistic photoemission experiment with useful bin sizes.</p>
</dd></dl>

<dl class="py class">
<dt id="mpes.fprocessing.parallelHDF5Processor">
<em class="property">class </em><code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">parallelHDF5Processor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">file_sorting</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor" title="Permalink to this definition">¶</a></dt>
<dd><p>Class for parallel processing of hdf5 files.</p>
<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor._parse_metadata">
<code class="sig-name descname">_parse_metadata</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">attributes</span></em>, <em class="sig-param"><span class="n">groups</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor._parse_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the metadata from all HDF5 files.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>attributes, groups: list, list</dt><dd><p>See <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.metaReadHDF5()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.combineResults">
<code class="sig-name descname">combineResults</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.combineResults" title="Permalink to this definition">¶</a></dt>
<dd><p>Combine the results from all segments (only when self.results is non-empty).</p>
<p><strong>Parameters</strong></p>
<dl>
<dt>ret: bool | True</dt><dd><dl class="field-list simple">
<dt class="field-odd">True</dt>
<dd class="field-odd"><p>returns the dictionary containing binned data explicitly</p>
</dd>
<dt class="field-even">False</dt>
<dd class="field-even"><p>no explicit return of the binned data, the dictionary</p>
</dd>
</dl>
<p>generated in the binning is still retained as an instance attribute.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>combinedresult: dict</dt><dd><p>Return combined result dictionary (if <code class="docutils literal notranslate"><span class="pre">ret</span> <span class="pre">==</span> <span class="pre">True</span></code>).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.convert">
<code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'parquet'</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./summary'</span></em>, <em class="sig-param"><span class="n">append_to_folder</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">pbenv</span><span class="o">=</span><span class="default_value">'classic'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert files to another format (e.g. parquet).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>form: str | ‘parquet’</dt><dd><p>File format to convert into.</p>
</dd>
<dt>save_addr: str | ‘./summary’</dt><dd><p>Path of the folder for saving parquet files.</p>
</dd>
<dt>append_to_folder: bool | False</dt><dd><p>Option to append to the existing parquet files in the specified folder,
otherwise the existing parquet files will be deleted first. The HDF5 files
in the same folder are kept intact.</p>
</dd>
<dt>pbar: bool | True</dt><dd><p>Option to display progress bar.</p>
</dd>
<dt>pbenv: str | ‘classic’</dt><dd><p>Specification of the progress bar environment (‘classic’ for generic version
and ‘notebook’ for notebook compatible version).</p>
</dd>
<dt><a href="#id41"><span class="problematic" id="id42">**</span></a>kwds: keyword arguments</dt><dd><p>See <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor.convert()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.getCountRate">
<code class="sig-name descname">getCountRate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fids</span><span class="o">=</span><span class="default_value">'all'</span></em>, <em class="sig-param"><span class="n">plot</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.getCountRate" title="Permalink to this definition">¶</a></dt>
<dd><p>Create count rate data for the files in the parallel hdf5 processor specified in ‘fids’</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>fids: the file ids to include. ‘all’ | list of file ids.</dt><dd><p>See arguments in <code class="docutils literal notranslate"><span class="pre">parallelHDF5Processor.subset()</span></code> and <code class="docutils literal notranslate"><span class="pre">hdf5Processor.getCountRate()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.getElapsedTime">
<code class="sig-name descname">getElapsedTime</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fids</span><span class="o">=</span><span class="default_value">'all'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.getElapsedTime" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the elapsed time in the file from the msMarkers wave</p>
<blockquote>
<div><p>return: secs: the length of the the file in seconds.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.parallelBinning">
<code class="sig-name descname">parallelBinning</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span></em>, <em class="sig-param"><span class="n">nbins</span></em>, <em class="sig-param"><span class="n">ranges</span></em>, <em class="sig-param"><span class="n">scheduler</span><span class="o">=</span><span class="default_value">'threads'</span></em>, <em class="sig-param"><span class="n">combine</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">histcoord</span><span class="o">=</span><span class="default_value">'midpoint'</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">binning_kwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">compute_kwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">pbenv</span><span class="o">=</span><span class="default_value">'classic'</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.parallelBinning" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel computation of the multidimensional histogram from file segments.
Version with serialized loop over processor threads and parallel recombination to save memory.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>axes: (list of) strings | None</dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins: (list of) int | None</dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges: (list of) tuples | None</dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>scheduler: str | ‘threads’</dt><dd><p>Type of distributed scheduler (‘threads’, ‘processes’, ‘synchronous’)</p>
</dd>
<dt>histcoord: string | ‘midpoint’</dt><dd><p>The coordinates of the histogram. Specify ‘edge’ to get the bar edges (every
dimension has one value more), specify ‘midpoint’ to get the midpoint of the
bars (same length as the histogram dimensions).</p>
</dd>
<dt>pbar: bool | true</dt><dd><p>Option to display the progress bar.</p>
</dd>
<dt>binning_kwds: dict | {}</dt><dd><p>Keyword arguments to be included in <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor.localBinning()</span></code>.</p>
</dd>
<dt>compute_kwds: dict | {}</dt><dd><p>Keyword arguments to specify in <code class="docutils literal notranslate"><span class="pre">dask.compute()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.parallelBinning_old">
<code class="sig-name descname">parallelBinning_old</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span></em>, <em class="sig-param"><span class="n">nbins</span></em>, <em class="sig-param"><span class="n">ranges</span></em>, <em class="sig-param"><span class="n">scheduler</span><span class="o">=</span><span class="default_value">'threads'</span></em>, <em class="sig-param"><span class="n">combine</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">histcoord</span><span class="o">=</span><span class="default_value">'midpoint'</span></em>, <em class="sig-param"><span class="n">pbar</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">binning_kwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">compute_kwds</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.parallelBinning_old" title="Permalink to this definition">¶</a></dt>
<dd><p>Parallel computation of the multidimensional histogram from file segments.
Old version with completely parallel binning with unlimited memory consumption.
Crashes for very large data sets.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt>axes<span class="classifier">(list of) strings | None</span></dt><dd><p>Names the axes to bin.</p>
</dd>
<dt>nbins<span class="classifier">(list of) int | None</span></dt><dd><p>Number of bins along each axis.</p>
</dd>
<dt>ranges<span class="classifier">(list of) tuples | None</span></dt><dd><p>Ranges of binning along every axis.</p>
</dd>
<dt>scheduler<span class="classifier">str | ‘threads’</span></dt><dd><p>Type of distributed scheduler (‘threads’, ‘processes’, ‘synchronous’)</p>
</dd>
<dt>combine<span class="classifier">bool | True</span></dt><dd><p>Option to combine the results obtained from distributed binning.</p>
</dd>
<dt>histcoord<span class="classifier">string | ‘midpoint’</span></dt><dd><p>The coordinates of the histogram. Specify ‘edge’ to get the bar edges (every
dimension has one value more), specify ‘midpoint’ to get the midpoint of the
bars (same length as the histogram dimensions).</p>
</dd>
<dt>pbar<span class="classifier">bool | true</span></dt><dd><p>Option to display the progress bar.</p>
</dd>
<dt>binning_kwds<span class="classifier">dict | {}</span></dt><dd><p>Keyword arguments to be included in <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor.localBinning()</span></code>.</p>
</dd>
<dt>compute_kwds<span class="classifier">dict | {}</span></dt><dd><p>Keyword arguments to specify in <code class="docutils literal notranslate"><span class="pre">dask.compute()</span></code>.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.saveHistogram">
<code class="sig-name descname">saveHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dictname</span><span class="o">=</span><span class="default_value">'combinedresult'</span></em>, <em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'h5'</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./histogram'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.saveHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Save binned histogram and the axes.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><p>See <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.saveDict()</span></code>.</p>
</div></blockquote>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.saveParameters">
<code class="sig-name descname">saveParameters</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'h5'</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./binning'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.saveParameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Save all the attributes of the binning instance for later use
(e.g. binning axes, ranges, etc).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>form: str | ‘h5’</dt><dd><p>File format to for saving the parameters (‘h5’/’hdf5’, ‘mat’).</p>
</dd>
<dt>save_addr: str | ‘./binning’</dt><dd><p>The address for the to be saved file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.subset">
<code class="sig-name descname">subset</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file_id</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.subset" title="Permalink to this definition">¶</a></dt>
<dd><p>Spawn an instance of <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.hdf5Processor</span></code> from a specified substituent file.</p>
<p><strong>Parameter</strong></p>
<dl class="simple">
<dt>file_id: int</dt><dd><p>Integer-numbered file ID (any integer from 0 to self.nfiles - 1).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.summarize">
<code class="sig-name descname">summarize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'dataframe'</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.summarize" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize the measurement information from all HDF5 files.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>form: str | ‘dataframe’</dt><dd><p>Format of the files to summarize into.</p>
</dd>
<dt>ret: bool | False</dt><dd><p>Specification on value return.</p>
</dd>
<dt><a href="#id43"><span class="problematic" id="id44">**</span></a>kwds: keyword arguments</dt><dd><p>See keyword arguments in <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.readDataframe()</span></code>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.updateHistogram">
<code class="sig-name descname">updateHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">axes</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sliceranges</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ret</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.updateHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the dimensional sizes of the binning results.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>axes: tuple/list | None</dt><dd><p>Collection of the names of axes for size change.</p>
</dd>
<dt>sliceranges: tuple/list/array | None</dt><dd><p>Collection of ranges, e.g. (start_position, stop_position) pairs,
for each axis to be updated.</p>
</dd>
<dt>ret: bool | False</dt><dd><p>Option to return updated histogram.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="mpes.fprocessing.parallelHDF5Processor.viewEventHistogram">
<code class="sig-name descname">viewEventHistogram</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fid</span></em>, <em class="sig-param"><span class="n">ncol</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parallelHDF5Processor.viewEventHistogram" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot individual histograms of specified dimensions (axes) from a substituent file.</p>
<p><strong>Parameters</strong></p>
<blockquote>
<div><p>See arguments in <code class="docutils literal notranslate"><span class="pre">parallelHDF5Processor.subset()</span></code> and <code class="docutils literal notranslate"><span class="pre">hdf5Processor.viewEventHistogram()</span></code>.</p>
</div></blockquote>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="mpes.fprocessing.parquetProcessor">
<em class="property">class </em><code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">parquetProcessor</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span></em>, <em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">source</span><span class="o">=</span><span class="default_value">'folder'</span></em>, <em class="sig-param"><span class="n">ftype</span><span class="o">=</span><span class="default_value">'parquet'</span></em>, <em class="sig-param"><span class="n">fids</span><span class="o">=</span><span class="default_value">[]</span></em>, <em class="sig-param"><span class="n">update</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">ncores</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.parquetProcessor" title="Permalink to this definition">¶</a></dt>
<dd><p>Legacy version of the <code class="docutils literal notranslate"><span class="pre">mpes.fprocessing.dataframeProcessor</span></code> class.</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.readARPEStxt">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">readARPEStxt</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdir</span></em>, <em class="sig-param"><span class="n">withCoords</span><span class="o">=</span><span class="default_value">True</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.readARPEStxt" title="Permalink to this definition">¶</a></dt>
<dd><p>Read and convert Igor-generated ARPES .txt files into numpy arrays.
The <code class="docutils literal notranslate"><span class="pre">withCoords</span></code> option specify whether the energy and angle information is given.</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.readBinnedhdf5">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">readBinnedhdf5</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fpath</span></em>, <em class="sig-param"><span class="n">combined</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">typ</span><span class="o">=</span><span class="default_value">'float32'</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.readBinnedhdf5" title="Permalink to this definition">¶</a></dt>
<dd><p>Read binned hdf5 file (3D/4D data) into a dictionary.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>fpath: str</dt><dd><p>File path.</p>
</dd>
<dt>combined: bool | True</dt><dd><p>Specify if the volume slices are combined.</p>
</dd>
<dt>typ: str | ‘float32’</dt><dd><p>Data type of the numerical values in the output dictionary.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>out: dict</dt><dd><p>Dictionary with keys being the axes and the volume (slices).</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.readDataframe">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">readDataframe</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">folder</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">files</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">ftype</span><span class="o">=</span><span class="default_value">'parquet'</span></em>, <em class="sig-param"><span class="n">timeStamps</span><span class="o">=</span><span class="default_value">False</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.readDataframe" title="Permalink to this definition">¶</a></dt>
<dd><p>Read stored files from a folder into a dataframe.</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>folder, files: str, list/tuple | None, None</dt><dd><p>Folder path of the files or a list of file paths. The folder path has
the priority such that if it’s specified, the specified files will be ignored.</p>
</dd>
<dt>ftype: str | ‘parquet’</dt><dd><p>File type to read (‘h5’ or ‘hdf5’, ‘parquet’, ‘json’, ‘csv’, etc).
If a folder path is given, all files of the specified type are read
into the dataframe in the reading order.</p>
</dd>
<dt><a href="#id45"><span class="problematic" id="id46">**</span></a>kwds: keyword arguments</dt><dd><p>See the keyword arguments for the specific file parser in <code class="docutils literal notranslate"><span class="pre">dask.dataframe</span></code> module.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<blockquote>
<div><p>Dask dataframe read from specified files.</p>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.readIgorBinFile">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">readIgorBinFile</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdir</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.readIgorBinFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Read Igor binary formats (pxp and ibw).</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.readimg">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">readimg</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">f_addr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.readimg" title="Permalink to this definition">¶</a></dt>
<dd><p>Read images (jpg, png, 2D/3D tiff)</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.readtsv">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">readtsv</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fdir</span></em>, <em class="sig-param"><span class="n">header</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dtype</span><span class="o">=</span><span class="default_value">'float'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.readtsv" title="Permalink to this definition">¶</a></dt>
<dd><p>Read tsv file from hemispherical detector</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>fdir: str</dt><dd><p>file directory</p>
</dd>
<dt>header: int | None</dt><dd><p>number of header lines</p>
</dd>
<dt>dtype: str | ‘float’</dt><dd><p>data type of the return numpy.ndarray</p>
</dd>
<dt><a href="#id47"><span class="problematic" id="id48">**</span></a>kwds: keyword arguments</dt><dd><p>other keyword arguments for <code class="docutils literal notranslate"><span class="pre">pandas.read_table()</span></code>.</p>
</dd>
</dl>
<p><strong>Return</strong></p>
<dl class="simple">
<dt>data: numpy ndarray</dt><dd><p>read and type-converted data</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.rot2d">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">rot2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">th</span></em>, <em class="sig-param"><span class="n">angle_unit</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.rot2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct 2D rotation matrix.</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.saveDict">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">saveDict</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dct</span><span class="o">=</span><span class="default_value">{}</span></em>, <em class="sig-param"><span class="n">processor</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">dictname</span><span class="o">=</span><span class="default_value">''</span></em>, <em class="sig-param"><span class="n">form</span><span class="o">=</span><span class="default_value">'h5'</span></em>, <em class="sig-param"><span class="n">save_addr</span><span class="o">=</span><span class="default_value">'./histogram'</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.saveDict" title="Permalink to this definition">¶</a></dt>
<dd><p>Save the binning result dictionary, including the histogram and the
axes values (edges or midpoints).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>dct: dict | {}</dt><dd><p>A dictionary containing the binned data and axes values to be exported.</p>
</dd>
<dt>processor: class | None</dt><dd><p>Class including all attributes.</p>
</dd>
<dt>dictname: str | ‘’</dt><dd><p>Namestring of the dictionary to save (such as the attribute name in a class).</p>
</dd>
<dt>form: str | ‘h5’</dt><dd><p>Save format, supporting ‘mat’, ‘h5’/’hdf5’, ‘tiff’ (need tifffile) or ‘png’ (need imageio).</p>
</dd>
<dt>save_addr: str | ‘./histogram’</dt><dd><p>File path to save the binning result.</p>
</dd>
<dt><a href="#id49"><span class="problematic" id="id50">**</span></a>kwds: keyword arguments</dt><dd></dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.sgfltr2d">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">sgfltr2d</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">datamat</span></em>, <em class="sig-param"><span class="n">span</span></em>, <em class="sig-param"><span class="n">order</span></em>, <em class="sig-param"><span class="n">axis</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.sgfltr2d" title="Permalink to this definition">¶</a></dt>
<dd><p>Savitzky-Golay filter for two dimensional data
Operated in a line-by-line fashion along one axis
Return filtered data</p>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.sortNamesBy">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">sortNamesBy</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">namelist</span></em>, <em class="sig-param"><span class="n">pattern</span></em>, <em class="sig-param"><span class="n">gp</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">slicerange</span><span class="o">=</span><span class="default_value">None, None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.sortNamesBy" title="Permalink to this definition">¶</a></dt>
<dd><p>Sort a list of names according to a particular sequence of numbers
(specified by a regular expression search pattern).</p>
<p><strong>Parameters</strong></p>
<dl class="simple">
<dt>namelist: str</dt><dd><p>List of name strings.</p>
</dd>
<dt>pattern: str</dt><dd><p>Regular expression of the pattern.</p>
</dd>
<dt>gp: int</dt><dd><p>Grouping number.</p>
</dd>
</dl>
<p><strong>Returns</strong></p>
<dl class="simple">
<dt>orderedseq: array</dt><dd><p>Ordered sequence from sorting.</p>
</dd>
<dt>sortednamelist: str</dt><dd><p>Sorted list of name strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="mpes.fprocessing.txtlocate">
<code class="sig-prename descclassname">mpes.fprocessing.</code><code class="sig-name descname">txtlocate</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ffolder</span></em>, <em class="sig-param"><span class="n">keytext</span></em><span class="sig-paren">)</span><a class="headerlink" href="#mpes.fprocessing.txtlocate" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate specific txt files containing experimental parameters.</p>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="analysis.html" class="btn btn-neutral float-right" title="Analysis (mpes.analysis)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="base.html" class="btn btn-neutral" title="Base classes (mpes.base)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2020, R. Patrick Xian, Laurenz Rettig.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'1.1.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>